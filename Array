#include <iostream>
#include "Rational.h"

using namespace std;

template <typename T>
class Array{
private:
	int size;
	T *data;
public:

	Array(int sz=10){
		size=sz;
		data= new T[size];
	}

	~Array(){ delete [] data;}

	Array(const Array<T> &a){
		size = a.size;
		data = new T[size];
		for (int i=0; i < size; i++)
			data[i]=a.data[i];
	}

	int length(){
		return size;
	}

	T& operator[](int idx){
		if (idx < 0){
			cout << "Index value "<<idx
				 <<" is less then 0 so returning first item"<<endl;
			return data[0];
		}
		else if (idx >= size){
			cout << "Index value "<<idx
				 <<" is greater then the size of array, so returning last item"<<endl;
			return data[size-1];
		}
		return data[idx];
	}

	Array<T>& operator=(const Array<T> &a){
		delete [] data;
		size = a.size;
		data = new T[size];
		for (int i=0;i<size;i++)
			data[i] = a.data[i];
		return *this;
	}

	friend istream& operator>>(istream &is, Array<T> &a){
		for (int i=0;i<a.size;i++){
			cout << "Enter "<<i<<". element :";
			is>>a.data[i];
		}
		return is;
	}

	friend ostream& operator<<(ostream &os, const Array<T> &a) {
		cout << "( ";
		for(int i=0; i < a.size; i++)
			cout<< a.data[i]<<" ";
		cout<<")"<<endl;
		return os;
	}
};


int main() {
	int sz;
	cout<<"Enter the size of arrays :";
	cin >> sz;
	Array<Rational> a(sz);

	cout<<"Enter the elements of array A"<<endl;
	cin >> a;

	cout << "A="<<a;

/*
	int sz;
	cout<<"Enter the size of arrays :";
	cin >> sz;

	Array<int> a(sz), b(sz);
	cout<<"Enter the elements of array A"<<endl;
	cin >> a;

	cout<<"Enter the elements of array B"<<endl;
	cin >> b;

	Array<int> c=a;
	Array<int> d(sz);

	d = b;
	for (int i=0; i < d.length(); i++)
		d[i] += d[i];

	cout << "A="<<a;
	cout << "B="<<b;
	cout << "C="<<c;
	cout << "D="<<d;

	cout<<"The 4th element of A is "<<a[4]<<endl;
	cout<<"The -1th element of A is "<<a[-1]<<endl;
	cout<<"The 0th element of D is "<<d[0]<<endl;
*/
	return 0;
}
